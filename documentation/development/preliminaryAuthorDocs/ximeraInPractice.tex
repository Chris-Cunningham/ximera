\documentclass{amsart}
\usepackage{multicol}
\usepackage{kmath,kerkis}
\usepackage{multirow}
\usepackage{fancyvrb}
\usepackage{xcolor}

\newcommand\code[1]{{\bfseries\texttt{#1}}}


\fvset{commandchars=+(),formatcom=\color{blue!50!black}}

\begin{document}
\title{XIMERA: Markup in Practice}
\maketitle

\tableofcontents

The goal of the XIMERA Project is to allow authors to write online
interactive content though \LaTeX\ documents.


\section{Setup}

To begin, use the \code{ximera} document class.


\begin{Verbatim}
  +color(red)\documentclass{ximera}
  Your document.
  \end{document}
\end{Verbatim}


To help navigate the collection of activities, authors should try to
include presqusits and outcomes.

\begin{Verbatim}
  \documentclass{ximera}
  +color(red)\prequsites{prereq1,prereq2}
  +color(red)\outcomes{outcome1,outcome2}
  \begin{document}
  Your document.
  \end{document}
\end{Verbatim}

Each prerequisite and outcome should be without spaces, and every
attempt should be made to use already available tags for the
prerequisites and outcomes needed/delivered by this activity.




\section{Writing basic questions}


The XIMERA Project offers four basic problem-like environments:
\code{exercise}, \code{question}, \code{exploration}, and
\code{hint}. From the interactive viewpoint, each of these
environments does basically the same thing, providing a question for
the student.

The \code{exercise} environment is for checking computational or rote
performance:

\begin{Verbatim}
  +color(red)\begin{exercise}
    An exercise.
  +color(red)\end{exercise}
\end{Verbatim}

The \code{question} environment is for a more challenging problem.

\begin{Verbatim}
  +color(red)\begin{question}
    A question.
  +color(red)\end{question}
\end{Verbatim}

The \code{exploration} environment is for more open-ended problems. 

\begin{Verbatim}
  +color(red)\begin{exploration}
    An exploration.
  +color(red)\end{exploration}
\end{Verbatim}

The \code{hint} is a sub-question environment that will help with
solving the main question.



\section{Adding solutions and answer fields}


As coded above, none of the problem-like environments have answers,
they are simply displayed questions.  For a problem-like environment to
have a solution, we must add a \code{solution} environment.


\begin{Verbatim}
  \begin{question}
    A question.
    +color(red)\begin{solution}
      A solution. 
    +color(red)\end{solution}
  \end{question}
\end{Verbatim}

However, as it stands, the student will be presented with a problem,
and then be able to ``click'' to see the solution. To have an answer
field we to add the \code{answer}.

\begin{Verbatim}
  \begin{question}
    A question.
    \begin{solution}
      A solution. 
      +color(red)\answer{The answer.}
    \end{solution}
  \end{question}
\end{Verbatim}

The default type for an answer is a mathematical expression. However,
there are other choices: \code{free-response}, \code{image}, and
\code{multiple-choice}. The option \code{free-response} provides a
text field that is ungraded. The option \code{image} allows the
student to upload an image as the solution. The option
\code{multiple-choice} accepts a pre-defined (non-case sensitive)
answer.

\begin{Verbatim}
  \begin{question}
    A multiple choice question.
    \begin{enumerate}
      \item \label{mc:answer1} Choice a.
      \item Choice b.
      \item \label{mc:answer2} Choice c.
      \item Choice d.
    \end{enumerate}
    \begin{solution}
      A solution. 
      +color(red)\answer[multiple-choice]{\ref{mc:answer1},\ref{mc:answer2}}
    \end{solution}
  \end{question}
\end{Verbatim}





\section{Questions with multiple-parts and hints}

To add questions with multiple parts, simply add more answers to the
solution environment.

\begin{Verbatim}
  \begin{question}
    A question. 
    +color(red)\begin{solution}
      First solution. 
      \answer{First answer.}
    +color(red)\end{solution}
    A follow-up question.
    +color(red)\begin{solution}
      Second solution. 
      \answer{Second answer.}
    +color(red)\end{solution}
  \end{question}
\end{Verbatim}



To add hints to the question, add a \code{hint} within the
\code{solution} environment.



\begin{Verbatim}
  \begin{question}
    A question. 
    \begin{solution}
      +color(red)\begin{hint}
        A hint.
      +color(red)\end{hint}
      A solution. 
      \answer{First answer.}
    \end{solution}
  \end{question}
\end{Verbatim}



To make the hints more Socratic, they themselves can be questions
with solutions with/or without answer fields:

\begin{Verbatim}
  \begin{question}
    A question. 
    \begin{solution}
      +color(red)\begin{hint}
        A hint.
        +color(red)\begin{solution}
        The solution to the question asked by the hint.
        +color(red)\end{solution}
      +color(red)\end{hint}
      +color(red)\begin{hint}
        Another hint.
        +color(red)\begin{solution}
        \answer{An answer to the hint.}
        This time the hint was a question with an answer field.
        +color(red)\end{solution}
      +color(red)\end{hint}
      A solution. 
      \answer{An answer.}
    \end{solution}
  \end{question}
\end{Verbatim}



\section{Presenting one question of a variation of questions}

To allow the student to master a concept, it is often useful to have a
variation of questions that are all presented as a single question in the
online experience. To do this, use the \code{shuffle} command.


\begin{Verbatim}
  +color(red)\begin{shuffle}
    \begin{question}
      A variation of a question, solution etc.
    \end{question}
    
    \begin{question}
      Another variation of a question, solution etc.
    \end{question}
  +color(red)\end{shuffle}
\end{Verbatim}

By default \code{shuffle} initially presents a variation of the
problem at random for the student to solve with the option of
repeating the question, though due to the randomization, the student
will probably be asked to solve a different variation of the
question. As student data is collected, the presentation goes from
truly random to a more adaptive approach, presenting easier or harder
questions based on the student's performance. The highest score
achieved on any of the variations of the question is recorded as the
students performance. There are several options for \code{shuffle},
\begin{description}
\item[\code{once}] Chooses a problem variation at random and allows
  exactly one attempt to solve the problem.
\item[\code{order}] Presents the problems in the order listed to the
  student, should the student choose to attempt the problem multiple
  times.
\item[\code{mastery}] Presents the problems initially at random and
  encourages the student to attempt the problem multiple times. This
  will change to an adaptive presentation after enough data is
  collected. Here the score is based on the aggregate performance,
  rather than the single highest attempt.
\end{description}


\begin{Verbatim}
  +color(red)\begin{shuffle}[mastery]
    \begin{exercise}
      A variation of an exercise, solution etc.
    \end{exercise}
    
    \begin{exercise}
      Another variation of an exercise, solution etc.
    \end{exercise}
  +color(red)\end{shuffle}
\end{Verbatim}



\section{Adding interactive elements}

To add interactive elements, use the \code{interactive} environment.


\begin{Verbatim}
  +color(red)\begin{interactive}[interactiveContent.js]
    Static content.
  +color(red)\end{interactive}
\end{Verbatim}








\end{document}
